<!DOCTYPE html>
<html><head>
	<title>design/calendar-imho: виджет календаря</title>
	<meta name="Content-Type" content="text/html; charset=utf-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=9">
	<meta name="description" content="Запуск виджета календаря для тестового задания"/>
	<meta name="keywords" content="календарь, пример, тест, layout, widget"/>
	<link rel="stylesheet" href=calendar.css />
</head><body>
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
<div class=wrapper>
	<div class=b-calendar-imho>
		<div class="frame">
			<div class="head">
				<div class="headcell">
					Понедельник
				</div><!--
				--><div class="headcell">
					Вторник
				</div><!--
				--><div class="headcell">
					Среда
				</div><!--
				--><div class="headcell">
					Четверг
				</div><!--
				--><div class="headcell">
					Пятница
				</div>
			</div>
			<div class="body">
				<div class="row">
					<div class="cell">
						<div class="dayMonth">3</div>
						<div class="meetingsList">
							<div class=dayMonthBlank></div>
							<div class="meetingElem">
								<span class=meetingName>Имя_заседания_31 ab abc abcd a abcde rtyuio</span>:
								<span class=meetingContent>содержание заседания_1 ния_1 ab abc abcd a abcde rtyuio</span>
							</div>
							<div class="meetingElem">
								<span class=meetingName>Имя_заседания_32 ab abc abcd a</span>:
								<span class=meetingContent>содержание заседания_2 ния ab abc a abcde
									rtyuio</span>
							</div>
							<div class="meetingElem">
								<span class=meetingName>Имя_заседания_33 ab abc a</span>:
								<span class=meetingContent>содержание заседания_3 ния ab abc abcd a abcde  abc abcd a abcde
									rtyuio gdh tft fjfgjh fjfgj</span>
							</div>
							<div class="meetingElem">
								<span class=meetingName>Имя_заседания_34 ab a</span>:
								<span class=meetingContent>содержание заседания_3 ния cde  abc abcd a abcde
									rtyu</span>
							</div>
							<div class="meetingElem">
								<span class=meetingName>Имя_заседания_35 ab abc a</span>:
								<span class=meetingContent>содержание заседания_3 abc abcd a abcde око ароро ропро hgh
									rtyu io</span>
							</div>
							<div class="meetingElem">
								<span class=meetingName>Имя_заседания_36 ab abc a апоп оао</span>:
								<span class=meetingContent>содержание заседания_3 ния ab abc a abcde  abc abcd a abcde
									rtyuio</span>
							</div>
							<div class=sign-space style=height:1.6em></div>
						</div>
						<div class="meetings"><span class=meetingsNumber>6</span> <span class="meetingsName">заседаний</span></div>
					</div><!--
					--><div class="cell">
						<div class=dayMonth>4</div>
						<div class="meetings"><span class=meetingsNumber>0</span> <span class="meetingsName">заседаний</span></div>
					</div><!--
					--><div class="cell">
						<div class=dayMonth>5</div>
						<div class="meetingsList">
							<div class="meetingElem">
								<div class=dayMonthBlank></div>
								<span class=meetingName>Имя_заседания_51 ab abc abcd a</span>:
								<span class=meetingContent>содержание заседания_2 ния ab abc a abcde
									rtyuio</span>
							</div>
							<div class="meetingElem">
								<span class=meetingName>Имя_заседания_52 ab abc a</span>:
								<span class=meetingContent>содержание заседания_3 ния ab abc abcd a abcde  abc abcd a abcde
									rtyuio gdh tft fjfgjh fjfgj</span>
							</div>
							<div class=sign-space style=height:1.6em></div>
						</div>
						<div class="meetings"><span class=meetingsNumber>2</span> <span class="meetingsName">заседаний</span></div>
					</div><!--
					--><div class="cell">
						<div class=dayMonth>6</div>
						<div class="meetings"><span class=meetingsNumber>15461</span> <span class="meetingsName">заседаний</span></div>
					</div><!--
					--><div class="cell">
						<div class=dayMonth>7</div>
						<div
							class="meetings"><span class=meetingsNumber>15357</span> <span class="meetingsName">заседаний</span></div>
					</div>
				</div>
				<div class="row">
					<div class="cell">
						<div class=dayMonth>10</div>
						<div class="meetings"><span class=meetingsNumber>15862</span> <span class="meetingsName">заседаний</span></div>
					</div><!--
					--><div class="cell">
						<div class=dayMonth>11</div>
					<div class="meetings"><span class=meetingsNumber>16442</span> <span class="meetingsName">заседаний</span></div>
					</div><!--
					--><div class="cell">
						<div class=dayMonth>12</div>
					<div class="meetings"><span class=meetingsNumber>14145</span> <span class="meetingsName">заседаний</span></div>
					</div><!--
					--><div class="cell">
						<div class=dayMonth>13</div>
					<div class="meetingsList">
						<div class=dayMonthBlank></div>
						<div class="meetingElem">
							<span class=meetingName>Имя_заседания_131 ab abc abcd a abcde rtyuio</span>:
							<span class=meetingContent>содержание заседания_1 ния_1 ab abc abcd a abcde rtyuio</span>
						</div>
						<div class="meetingElem">
							<span class=meetingName>Имя_заседания_134 ab a</span>:
							<span class=meetingContent>содержание заседания_3 ния cde  abc abcd a abcde
								rtyu</span>
						</div>
						<div class="meetingElem">
							<span class=meetingName>Имя_заседания_135 ab abc a</span>:
							<span class=meetingContent>содержание заседания_3 abc abcd a abcde око ароро ропро hgh
								rtyu io</span>
						</div>
						<div class="meetingElem">
							<span class=meetingName>Имя_заседания_136 ab abc a апоп оао</span>:
							<span class=meetingContent>содержание заседания_3 ния ab abc a abcde  abc abcd a abcde
								rtyuio</span>
						</div>
						<div class=sign-space style=height:1.6em></div>
					</div>
					<div class="meetings"><span class=meetingsNumber>4</span> <span class="meetingsName">заседаний</span></div>
					</div><!--
					--><div class="cell">
						<div class=dayMonth>14</div>
					<div class="meetings"><span class=meetingsNumber>yyyy</span> <span class="meetingsName">заседаний</span></div>
					</div>
				</div>
				<div class="row">
					<div class="cell">
						<div class=dayMonth>17</div>
						<div class="meetings"><span class=meetingsNumber>14180</span> <span class="meetingsName">заседаний</span></div>
					</div><!--
					--><div class="cell">
						<div class=dayMonth>18</div>
						<div class="meetings"><span class=meetingsNumber>15314</span> <span class="meetingsName">заседаний</span></div>
					</div><!--
					--><div class="cell">
						<div class=dayMonth>19</div>
						<div class="meetings"><span class=meetingsNumber>12960</span> <span class="meetingsName">заседаний</span></div>
					</div><!--
					--><div class="cell">
						<div class=dayMonth>20</div>
						<div class="meetings"><span class=meetingsNumber>12742</span> <span class="meetingsName">заседаний</span></div>
					</div><!--
					--><div class="cell">
						<div class=dayMonth>21</div>
						<div class="meetings"><span class=meetingsNumber>2589</span> <span class="meetingsName">заседаний</span></div>
					</div>
				</div>
				<div class="row">
					<div class="cell">
						<div class=dayMonth>24</div>
						<div class="meetings"><span class=meetingsNumber>12003</span> <span class="meetingsName">заседаний</span></div>
					</div><!--
					--><div class="cell">
						<div class=dayMonth>25</div>
						<div class="meetings"><span class=meetingsNumber>14677</span> <span class="meetingsName">заседаний</span></div>
					</div><!--
					--><div class="cell">
						<div class=dayMonth>26</div>
						<div class="meetings"><span class=meetingsNumber>12112</span> <span class="meetingsName">заседаний</span></div>
					</div><!--
					--><div class="cell">
						<div class=dayMonth>27</div>
						<div class="meetings"><span class=meetingsNumber>11600</span> <span class="meetingsName">заседаний</span></div>
					</div><!--
					--><div class="cell">
						<div class=dayMonth>28</div>
						<div class="meetings"><span class=meetingsNumber>2538</span> <span class="meetingsName">заседаний</span></div>
					</div>
				</div>
			</div>
			<div class="footer">
				<div class=foot>

				</div>
			</div>
		</div>
		<div class=b-calendar-popup-nooverflow>
			<div class=b-calendar-popup-arrow-frame>
				<div class=arrow></div>
			</div>
			<div class=b-calendar-popup>
				<div class=date>Четверг, 6 января 2014</div>
				<div class=assign>
					<span class=assignName>Назначено</span>:
					<span class=meetings><span class=meetingsNumber>9262</span>
						<span class="meetingsName">заседаний</span></span>
				</div>
				<div class="meetingsList">
					<div class=dayMonthBlank></div>
					<div class="meetingElem">
						<span class=meetingName>Имя_заседания_131 ab abc abcd a abcde rtyuio</span>:
						<span class=meetingContent>содержание заседания_1 ния_1 ab abc abcd a abcde rtyuio</span>
						<span class="sign line">подписаться</span>
					</div>
					<div class="meetingElem">
						<span class=meetingName>Имя_заседания_134 ab a</span>:
						<span class=meetingContent>содержание заседания_3 ния cde  abc abcd a abcde
							rtyu</span>
						<span class="sign line">подписаться</span>
					</div>
					<div class="meetingElem">
						<span class=meetingName>Имя_заседания_135 ab abc a</span>:
						<span class=meetingContent>содержание заседания_3 abc abcd a abcde око ароро ропро hgh
							rtyu io</span>
						<span class="sign line">подписаться</span>
					</div>
					<div class="meetingElem">
						<span class=meetingName>Имя_заседания_136 ab abc a апоп оао</span>:
						<span class=meetingContent>содержание заседания_3 ния ab abc a abcde  abc abcd a abcde
							rtyuio</span>
						<span class="sign line">подписаться</span>
					</div>
					<div class=sign-space style=height:2.3em></div>
				</div>
				<div class="meetings">
					<span class=sign>подписаться на всё</span>
				</div>
			</div>
		</div>
	</div>
</div>
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
<script type="text/javascript" src=../calendar.js></script>

<script type="text/javascript">
var tst = function(){
	loadLogger(0, 0); //logOnScreen, logLevel - функции wcl (console.log) и подобные
	var o = $e({
		el: $q('.b-calendar-imho .body')
		,on:{mousemove: function(ev){
			var cell ={el: parents(/^cell$/,ev.target)};
			$x(cell, getPosition(cell.el)); //x,y
			cell.w = cell.el.offsetWidth;
			cell.h = cell.el.offsetHeight;
			'mmove'.wcl(cell, ev);
			var pup ={arrowHalf: 7};
			pup.el = $e({el: $q('.b-calendar-popup-nooverflow')
				,cs:{display:'block'
						,left: cell.x -cell.w / 5 + pup.arrowHalf +'px'
						,top: cell.y +cell.h +
					pup.arrowHalf
					+'px'} });
		}}
	});
};
	if(window.addEventListener){
		this.addEventListener('DOMContentLoaded',tst,!1);
	}else{
		this.attachEvent('onload',tst);
	}
</script>

<!--Тестовое задание front­end.
Сверстать календарь — ширина 100% от ширины экрана (мин. разрешение 940px ) См. макет calendar_1.png
данные приходят в формате JSON (серверную часть писать не нужно :) ).
При наведении на день ячейка плавно меняет цвет (четверг 6­ого числа);
При клике на день — появляется попап, который не должен вылезать на экран  + стрелка
должна располагаться с правильной стороны. См. макет calendar_2.png
Например при клике на 6 число — стрелка наверху попапа, при клике по 26 числу  ­ стрелка
должна быть внизу (указывать на ячейку).
Решение должно быть кроссбраузерное (IE9+).
Возможно использование библиотеки jQuery
(--конец текста задания--)

Следующие шаги (которые могли бы последовать сверх задания):
* поддержка выходных дней в настройках
* минимальная высота календаря
* календарь-виджет (вставляемый в блок размером менее 940)
* языковая поддержка служебных слов (i18n)

Решение построено как виджет с общим классом b-calendar-imho.

Предполагаем, что понадобится генерировать динамически не один календарь,
поэтому создаём конструктор календаря, а HTML будет работать в виде шаблонов,
как на весь календарь, так и на его ячейки. (Формально в задании нужен был бы
только шаблон ячейки.)

Строим каркас календаря. Хотя он очень похож на таблицу, делаем её на дивах,
чтобы не иметь проблем с особенностями стилей таблицы и будущими возм.модификациями.

Все магические числа определяем в скрипте, а не в стилях, потому что в реальном
проекте была бы велика вероятность их рефакторинга в будущем. Стили генерируются.
Можно было бы использовать SASS, но это - усложнение скрипта виджета, обойдёмся.

Для начального проектирования пользуемся статическим HTML и CSS (папка /design).


-->
</body></html>